{% extends 'base.html' %}
{% load static %}

{% block title %}AvaliaÃ§Ã£o da Disciplina{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/avaliacao_disc.css' %}">
{% endblock %}

{% block content %}

<div class="topbar">
  <div>â˜°</div>
  <div>ğŸ” ğŸ”” ğŸ‘¤</div>
</div>

<div class="container">

  <div class="brand">
    <div>
      <h1>AvaliaÃ§Ã£o da Disciplina</h1>
      <p>Veja como os alunos avaliaram esta disciplina</p>
    </div>

    <div class="logo">
      <div>ğŸ“</div>
      <div>
        <div class="title">REDE</div>
        <div class="sub">ACADÃŠMICA</div>
      </div>
    </div>
  </div>

  <div class="search-row">

    <div class="search">
      <span class="icon">ğŸ”</span>
      <input placeholder="Digite o nome do professor">
    </div>

    <form class="search" method="get">
      <span class="icon">ğŸ”</span>
      <input type="text" name="q"
             placeholder="Procure por nome ou cÃ³digo da disciplina"
             value="{{ q }}">
    </form>

  </div>

  <div class="card">

    <div class="tabs">

      <a href="{% url 'avaliacao_professores' %}?q={{ q }}" class="tab">
        AvaliaÃ§Ã£o dos Professores
      </a>

      <a href="{% url 'avaliacao_disciplina' %}?q={{ q }}" class="tab active">
        AvaliaÃ§Ã£o da Disciplina
      </a>

      {% if disciplina %}
      <a href="{% url 'avalie_disciplina' disciplina.codigo %}" class="avaliar-btn">
          Avaliar Disciplina
      </a>
      {% endif %}
    </div>

    {% if disciplina %}

    <!-- TÃTULO CORRIGIDO -->
    <h2 class="disc-title">
        {{ disciplina.nome }} ({{ disciplina.codigo }})
    </h2>

    <div class="grid">

      <div class="item metric">
        <span>ContribuiÃ§Ã£o para sua formaÃ§Ã£o</span>
        <strong>{{ medias.contribuicao|floatformat:1|default:"-" }}</strong>
      </div>

      <div class="item metric">
        <span>EquilÃ­brio tarefas Ã— crÃ©ditos</span>
        <strong>{{ medias.equilibrio|floatformat:1|default:"-" }}</strong>
      </div>

      <div class="item metric">
        <span>AplicaÃ§Ã£o prÃ¡tica</span>
        <strong>{{ medias.aplicacao|floatformat:1|default:"-" }}</strong>
      </div>

      <div class="item metric">
        <span>Qualidade do material didÃ¡tico</span>
        <strong>{{ medias.material|floatformat:1|default:"-" }}</strong>
      </div>

      <div class="item metric">
        <span>DistribuiÃ§Ã£o das avaliaÃ§Ãµes</span>
        <strong>{{ medias.distribuicao|floatformat:1|default:"-" }}</strong>
      </div>

    </div>

    {% endif %}

  </div>

</div>

{% endblock %}
